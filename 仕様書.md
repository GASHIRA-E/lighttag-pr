# コードレビュー観点ラベル支援Chrome拡張 最終MVP仕様書

## 1. 主な機能

- GitHubのPRコメント入力欄に「観点ラベル」と「温度感ラベル」を挿入するUIを提供
- 複数ラベルを同時付与可能（例：`[設計][FYI] コメント内容`）
- ラベルの説明文をツールチップで表示
- 観点リストをJSONでカスタマイズ・チーム共有可能

## 2. UI詳細

### ラベル選択UI

1. コメント入力欄の上に「ラベルを追加」ボタンを配置
2. クリックで観点ラベルのドロップダウンを表示
3. ラベル選択後、「挿入」ボタンでコメント先頭に追加

### ツールチップ表示

- ラベルにマウスオーバーした際、説明文をツールチップで表示  
  （例：`設計` → `設計や仕様に合致しているか`）

### ラベル挿入フロー

1. ユーザーがコメントを入力
2. 「ラベルを追加」ボタンクリック
3. ドロップダウンからラベル選択（複数可）
4. 「挿入」ボタンクリックで選択したラベルをコメント先頭に追加
5. ユーザーがコメントを送信

## 3. データ管理

### JSON設定例

```json
{
  "labels": [
    {
      "type": "観点",
      "items": [
        { "label": "設計", "description": "設計や仕様に合致しているか" },
        { "label": "テスト", "description": "テストが十分か" }
      ]
    },
    {
      "type": "温度感",
      "items": [
        { "label": "FYI", "description": "参考情報の共有" },
        { "label": "Q", "description": "質問" }
      ]
    }
  ]
}
```


### 設定画面

- 拡張のオプション画面で以下を可能に：
  - ラベルの追加・削除・並び替え
  - JSONのインポート／エクスポート
  - ラベルタイプ（観点・温度感）の分類

## 4. 技術仕様

- **対応環境**: GitHub Pull Request画面（Chrome拡張）
- **データ保存**: `chrome.storage.local` を使用
- **DOM操作**: コメント入力欄の特定方法（例：GitHubのDOMクラスを解析）
- **セキュリティ**: 外部通信なし、GitHub以外のページでは無効化

## 5. 開発計画

1. **PoC開発**: GitHubのPR画面でDOM操作の可否を確認
2. **UIプロトタイプ**: ドロップダウン＋挿入ボタンの動作確認
3. **JSON設定連携**: インポート／エクスポート機能の実装
4. **テスト**: 実際のPR画面での動作検証
5. **リリース**: Chrome Web Storeに公開（プライベート配布も可能）
